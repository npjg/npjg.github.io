<!DOCTYPE html>
<html lang="en">
<head>
  
    <title>A third of the way done! :: BitDust</title>
  
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Hello again!
This week wrapped up the fourth week of coding, which means that there are about 8 weeks left until GSoC finishes and it&amp;rsquo;s time for me to go back to school. This week, I spent the early part of the week fixing up our rendering pipeline. It is fun to work on, since it&amp;rsquo;s so fundamental to the engine, but many bugs are quite difficult to track down. A big part of this was more closely integrating Director&amp;rsquo;s internal state memory, now kept in the Channel class that I wrote, with the &amp;ldquo;widgets&amp;rdquo; that the window manager knows about." />
<meta name="keywords" content="" />

  <meta name="robots" content="noodp" />

<link rel="canonical" href="/posts/gsoc-2020/third-way-done/" />





  
  <link rel="stylesheet" href="/css/buttons.min.2bc533403a27dfe0e93105a92502b42ce4587e2e4a87d9f7d349e51e16e09478.css">

  
  <link rel="stylesheet" href="/css/code.min.00125962708925857e7b66dbc58391d55be1191a3d0ce2034de8c9cd2c481c36.css">

  
  <link rel="stylesheet" href="/css/fonts.min.90c955c31dd7c0e05aae3d4f583d4d8a2af799d69c961337eaf2a825063a55dd.css">

  
  <link rel="stylesheet" href="/css/footer.min.2e3eb191baee58dd05a9f0104ac1fab0827bca7c64dafe0b2579f934c33a1d69.css">

  
  <link rel="stylesheet" href="/css/gist.min.a751e8b0abe1ba8bc53ced52a38b19d8950fe78ca29454ea8c2595cf26aad5c0.css">

  
  <link rel="stylesheet" href="/css/header.min.b6fb4423cf82a9f9d7abc9cd010223fa3d70a6526a3f28f8e17d814c06e18f9e.css">

  
  <link rel="stylesheet" href="/css/main.min.1d8be2dd1b5de9fdaed058c8c59fcf4485f36619574abfb47ed0cfda4812c16d.css">

  
  <link rel="stylesheet" href="/css/menu.min.83637a90d903026bc280d3f82f96ceb06c5fc72b7c1a8d686afb5bbf818a29f7.css">

  
  <link rel="stylesheet" href="/css/pagination.min.82f6400eae7c7c6dc3c866733c2ec0579e4089608fea69400ff85b3880aa0d3c.css">

  
  <link rel="stylesheet" href="/css/post.min.fc74ca360273c1d828da3c02b8174eba435607b369d98418ccc6f2243cd4e75d.css">

  
  <link rel="stylesheet" href="/css/prism.min.9023bbc24533d09e97a51a0a42a5a7bfe4c591ae167c5551fb1d2191d11977c0.css">

  
  <link rel="stylesheet" href="/css/syntax.min.cc789ed9377260d7949ea4c18781fc58959a89287210fe4edbff44ebfc1511b6.css">

  
  <link rel="stylesheet" href="/css/terminal.min.5f8d3abeb8d98606857840dd0698f3c9fd8ba2e4f84ede3e24ee66f68d74ccba.css">

  
  <link rel="stylesheet" href="/css/terms.min.b81791663c3790e738e571cdbf802312390d30e4b1d8dc9d814a5b5454d0ac11.css">


<link rel="stylesheet" href="/terminal.css">




<link rel="shortcut icon" href="/favicon.png">
<link rel="apple-touch-icon" href="/apple-touch-icon.png">


<meta name="twitter:card" content="summary" />

  
    <meta name="twitter:site" content="" />
  
    <meta name="twitter:creator" content="Nathanael Gentry" />



<meta property="og:locale" content="en" />
<meta property="og:type" content="article" />
<meta property="og:title" content="A third of the way done!">
<meta property="og:description" content="Hello again!
This week wrapped up the fourth week of coding, which means that there are about 8 weeks left until GSoC finishes and it&amp;rsquo;s time for me to go back to school. This week, I spent the early part of the week fixing up our rendering pipeline. It is fun to work on, since it&amp;rsquo;s so fundamental to the engine, but many bugs are quite difficult to track down. A big part of this was more closely integrating Director&amp;rsquo;s internal state memory, now kept in the Channel class that I wrote, with the &amp;ldquo;widgets&amp;rdquo; that the window manager knows about." />
<meta property="og:url" content="/posts/gsoc-2020/third-way-done/" />
<meta property="og:site_name" content="BitDust" />

  <meta property="og:image" content="/og-image.png">

<meta property="og:image:width" content="1200">
<meta property="og:image:height" content="627">


  <meta property="article:published_time" content="2020-06-29 19:10:00 -0400 EDT" />












</head>
<body>


<div class="container full">

  <header class="header">
  <div class="header__inner">
    <div class="header__logo">
      <a href="/">
  <div class="logo">
    BitDust
  </div>
</a>

    </div>
    
      <ul class="menu menu--mobile">
  <li class="menu__trigger">Menu&nbsp;â–¾</li>
  <li>
    <ul class="menu__dropdown">
      
        
          <li><a href="/about">About</a></li>
        
      
        
          <li><a href="https://www.youtube.com/@nathanaelgentrymusic">Music</a></li>
        
      
        
          <li><a href="/posts">Posts</a></li>
        
      
        
          <li><a href="https://www.youtube.com/@retrobitdust">YouTube</a></li>
        
      
      
    </ul>
  </li>
</ul>

    
    
  </div>
  
    <nav class="navigation-menu">
  <ul class="navigation-menu__inner menu--desktop">
    
      
        
          <li><a href="/about" >About</a></li>
        
      
        
          <li><a href="https://www.youtube.com/@nathanaelgentrymusic" >Music</a></li>
        
      
        
          <li><a href="/posts" >Posts</a></li>
        
      
        
          <li><a href="https://www.youtube.com/@retrobitdust" >YouTube</a></li>
        
      
      
    
  </ul>
</nav>

  
</header>


  <div class="content">
    
<article class="post">
  <h1 class="post-title">
    <a href="/posts/gsoc-2020/third-way-done/">A third of the way done!</a>
  </h1>
  <div class="post-meta"><time class="post-date">2020-06-29[Updated::2020-08-25]</time><span class="post-author">Nathanael Gentry</span><span class="post-reading-time">3 min read (533 words)</span></div>

  
    <span class="post-tags">
      
      #<a href="/tags/macromedia-director/">Macromedia Director</a>&nbsp;
      
      #<a href="/tags/google-summer-of-code-2020/">Google Summer of Code 2020</a>&nbsp;
      
      #<a href="/tags/scummvm/">ScummVM</a>&nbsp;
      
    </span>
  
  


  

  <div class="post-content"><div>
        <p>Hello again!</p>
<p>This week wrapped up the fourth week of coding, which means that there are about
8 weeks left until GSoC finishes and it&rsquo;s time for me to go back to school. This
week, I spent the early part of the week fixing up our rendering pipeline. It is
fun to work on, since it&rsquo;s so fundamental to the engine, but many bugs are quite
difficult to track down. A big part of this was more closely integrating
Director&rsquo;s internal state memory, now kept in the Channel class that I wrote,
with the &ldquo;widgets&rdquo; that the window manager knows about. A tight interface with
the window manager will become essential quite soon, when we implement MIAWs
(movies in a window).</p>
<p>When I got tired of tracking down obscure artifacts and bugs near the middle of
the week, I revamped the interface that we use to draw Director transitions.
There are about 50 different transition types, which sev had implemented before,
but rather than having to keep a copy of the old frame and then draw the new
frame back over it &ndash; as we had to do before &ndash; I put in a more natural approach
of rendering the next frame over the current one, in accordance with the
transition. This cut out some unnecessary surface blitting that was happening
every frame. Working with the transitions took way longer than I expected, and
I&rsquo;m still not quite sure why.</p>
<p>I also spent some time reviewing our Trello board and picking out easy tasks for
a break or marking complete those reports of broken movies, etc. that some side
effect had fixed along the way. A nice 5-minute fix was enabling our text
renderer to use different colours in each chunk (font run). Now, Warlock is
looking even more realistic, and just that little bit of white text helps so
much.</p>
<p><img src="/posts/gsoc-2020/third-way-done/third-way-done-1.png"></p>
<p>I hear that later this week sev, djsrv, and I will do a catch-up meeting with
John Henry Thompson, the inventor of Lingo. In this meeting I plan to show off
some of the work I have done with Director&rsquo;s ink types. That was the other major
project I worked on last week. The inks are all the different ways that Director
can draw and composit sprites on the screen. They range from a simple copy of
the whole bounding rectangle area to mattes to an inversion and composition with
what&rsquo;s underneath. Many of them have poorly documented behaviour, at least in
edge cases, and when transforming colours the depth must always be kept in mind.
Director itself had different render loops depending upon the colour depth. I
don&rsquo;t think we will quite need that, but the bitwise operations I put in will
require much more testing and fine-tuning across the spectrum. I&rsquo;ll be working
on this more in the next few days. Here&rsquo;s a little demo of the ink types in
action. There are still some bugs in here.</p>

<div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
  <iframe src="https://www.youtube.com/embed/xqIcTcYKWd0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" allowfullscreen title="YouTube Video"></iframe>
</div>

<p>I&rsquo;d better get back to work now, because I am preparing another update to the
renderer that should deal with many of the issues that have lurked in the
background in the last few weeks. Stay tuned for some news on that!</p>

      </div></div>

  
    
<div class="pagination">
  <div class="pagination__title">
    <span class="pagination__title-h">Read other posts</span>
    <hr />
  </div>
  <div class="pagination__buttons">
    
      <a href="/posts/gsoc-2020/that-was-fast/" class="button inline prev">
        That was fast!
      </a>
    
    
      ::
    
    
      <a href="/posts/gsoc-2020/making-progress/" class="button inline next">
        Making progress
      </a>
    
  </div>
</div>


  

  
    

<div id="disqus_thread"></div>
<script>
    window.disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "bitdust-1" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

  
</article>

  </div>

  
    <footer class="footer">
  <div class="footer__inner">
    
      <div class="copyright">
        <span>Â© 2024 Powered by <a href="https://gohugo.io">Hugo</a></span>
    
      <span>:: <a href="https://github.com/panr/hugo-theme-terminal" target="_blank">Theme</a> made by <a href="https://github.com/panr" target="_blank">panr</a></span>
      </div>
  </div>
</footer>






<script type="text/javascript" src="/bundle.min.js"></script>





  
</div>

</body>
</html>
